services:
    app.handler.user:
        class: AppBundle\Handler\UserHandler
        arguments:
            - '@swiftmailer.mailer'
            - '@twig'
            - '@fos_user.util.token_generator.default'
            
    app.repository.match:
            class: AppBundle\Repository\MatchRepository
            factory: ['@doctrine.orm.default_entity_manager', getRepository]
            arguments:
                - AppBundle\Entity\Match

    app.repository.player:
            class: AppBundle\Repository\PlayerRepository
            factory: ['@doctrine.orm.default_entity_manager', getRepository]
            arguments:
                - AppBundle\Entity\Player

    app.extension.mine_matches:
        class: AppBundle\Doctrine\ORM\Extension\MineMatchesExtension
        public: false
        arguments:
            - '@security.token_storage'
        tags:
            - { name: api_platform.doctrine.orm.query_extension.collection, priority: 9 }
